
<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  
  <title>辰述丨请您听我说</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="辰述丨请您听我说">
<meta property="og:url" content="http://chenshu.xyz/index.html">
<meta property="og:site_name" content="辰述丨请您听我说">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="Xiaochen">
<meta name="twitter:card" content="summary">
  
    <link rel="alternative" href="/atom.xml" title="辰述丨请您听我说" type="application/atom+xml">
  
  
    <link rel="icon" href="/img/favicon.ico">
  
  
<link rel="stylesheet" href="/css/style.css">

  
    <link href="//fonts.useso.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <!--[if lt IE 9]><script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7/html5shiv.min.js"></script><![endif]-->
  
<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-161199067-1', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->

  
<script type="text/javascript">
var isWX = /micromessenger/i.test(navigator.userAgent);
if (isWX) {
  document.write('<br/><br/><h1 style="text-align: center;font-size:32px;" >╮(╯_╰)╭</h1><br/><br/><h4 style="text-align: center;" >请在浏览器中打开。</h4><br/><h4 style="text-align: center;" >Please open in the browser.</h4>');
  window.stop ? window.stop() : document.execCommand("Stop");
}
</script>


<meta name="generator" content="Hexo 4.2.0"></head>

<body>
<div id="container">
  <div id="wrap">
    <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <nav id="upper-nav" class="inner">
      <a id="main-nav-toggle" class="nav-icon"></a>
      <div class="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        
          <a id="nav-github" class="nav-icon" href="https://github.com/xiaochen0103" target="_blank" rel="noopener"></a>
        
      </div>
    </nav>
    <div id="header-title">
      
        <h1 id="blog-title-wrap">
          <a href="/" id="blog-title">Xiaochen&#39;s Blog</a>
        </h1>
      
    </div>
    <div id="contenedor">
      <ul class="cube">
        <li class="cara">
          <svg xmlns="http://www.w3.org/2000/svg" version="1.1" height="100" width="100" viewBox="-50 -50 200 200">
            <circle cx="50" cy="50" r="45" stroke-width="5" stroke="black" stroke-opacity="0.5" fill-opacity="0"/>
            <rect x="47.5" y="27.5" width="5" height="25" rx="2.5" ry="2.5" fill="black" fill-opacity="0.5" transform="rotate(330 50 50)"/>
            <rect x="48.5" y="16.5" width="3" height="35" rx="1.5" ry="1.5" fill="black" fill-opacity="0.5"/>
          </svg>
        </li>
        <li class="cara"><font size="50"><span></span></font></li>
        <li class="cara"><font size="50"><span></span></font></li>
        <li class="cara"><font size="50"><span></span></font></li>
        <li class="cara"><font size="50"><span></span></font></li> 
        <li class="cara"><font size="50"><span></span></font></li>
      </ul>
    </div>
    <nav id="main-nav">
      
        <a class="main-nav-link" href="/">Home</a>
      
        <a class="main-nav-link" href="https://www.cnblogs.com/chenshu/" target="_blank" rel="noopener">Cnblog</a>
      
        <a class="main-nav-link" href="/archives">Archives</a>
      
        <a class="main-nav-link" href="/about">About</a>
      
      
     

    </nav>
  </div>
</header>

    <div class="outer">
      <section id="main">
  
    <article id="post-进程同步为什么不叫进程协调？" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <h3 href="/posts/undefined/" class="article-date">
  <time datetime="2020-10-29T14:28:54.128Z" itemprop="datePublished">2020-10-29</time>
</h3>
    
  </div>
  <div class="article-inner">
  <div class="curve-down">
  <div class="fill-content">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/posts/undefined/">进程同步为什么不叫进程协调？</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        
        <h2 id="前言">前言</h2>
<p>今天刚学完进程同步机制，突然感觉书中说来说去的进程同步，到头来还是没说清为什么要进行同步？同步了个啥？只是给出了很多概念。我觉得进程同步问题所牵扯到的知识还真是不少，所以打算记录下来，顺便梳理一下我的思路。如有错误，欢迎指出。</p>
<h2 id="1-进程同步概述">1. 进程同步概述</h2>
<h3 id="1-1-什么是进程同步？">1.1 什么是进程同步？</h3>
<p>这是百度词条给出的解释：在多道程序环境下，进程是并发执行的，不同进程之间存在着不同的相互制约关系。我倒觉得百度的解释还有些道理，其实最主要的就是这个<strong>相互制约关系</strong>，这点我们一会再说。</p>
<p>在 OS 中，<strong>同步</strong>强调的是多个进程在并发执行环境下<strong>异步</strong>执行时，各个进程之间的<strong>协调</strong>。也就是说，<u>进程只要协调着运行，就可以说这些进程之间是同步的</u>。</p>
<p>如果非要刨根问底的话，我们需要先知道同步是什么意思：同步指两个或两个以上随时间变化的量在变化过程中保持一定的相对关系。这里的量可以换成进程，这里的相对关系可以换成间接/直接相互制约关系。</p>
<p>到这里，你只需要知道进程同步就是用来协调进程之间的各种相互制约关系就行了，下面讨论这类制约关系。</p>
<h3 id="1-2-进程之间的各种相互制约关系">1.2 进程之间的各种相互制约关系</h3>
<p>这些关系大体分为两类：</p>
<ul>
<li>间接相互制约关系<br>
也称互斥关系，由多进程对同一资源（临界资源）的共享引发，必须由系统实施统一分配，例如篮球比赛中的「篮球」就引发了双方队员的间接相互制约关系。</li>
<li>直接相互制约关系<br>
由进程执行环境/条件发生改变而引发，源于多个进程之间的相互合作，例如生产者-消费者问题中，生产者和消费者之间就产生了直接相互制约关系。</li>
</ul>
<p>因此，我们必须引用一种制度来<strong>维持</strong>进程间复杂的相互制约关系，而这正是进程同步的主要任务。</p>
<p>还有一种说法是：“为了解决进程的异步性带来的结果不可再现问题”。不过我认为这种说法没有说到点上，因为真正让结果不可再现的不是异步执行，而是多个异步执行的进程并发执行起来的不协调，<u>这种不协调破坏了进程之间的相互制约关系</u>，所以才需要进程同步来协调。</p>
<p>那么，该怎么实现进程同步呢？</p>
<h3 id="1-3-怎么实现进程同步？">1.3 怎么实现进程同步？</h3>
<p>这个问题可以换个问法：该怎么维持进程间复杂的相互制约关系？</p>
<ul>
<li>对于间接相互制约关系，主要是临界资源产生的，这需要采用互斥方式来维持。</li>
<li>对于直接相互制约关系，主要是进程之间的相互依赖而产生的，这需要协调各进程之间的执行次序，继而就维持了进程之间的直接相互制约关系。</li>
</ul>
<p>思路有了，就该考虑怎么实现了。为了实现进程同步，需要在操作系统的进程管理功能的实现中，引入进程同步机制，这主要包括硬件同步机制、信号量机制、管程机制等。</p>
<p>其中信号量机制中的信号量是一个非常关键的概念，只要你把信号量理解清楚了，你就掌握了该怎么实现共享资源的互斥访问、同时访问。</p>
<h2 id="2-一些基本概念">2. 一些基本概念</h2>
<p>要想搞明白什么是进程同步机制，这些概念你必须先理清楚。</p>
<h3 id="2-1-在进程同步中，临界资源不单纯指临界资源">2.1 在进程同步中，临界资源不单纯指临界资源</h3>
<p>共享资源都应该当成临界资源处理，不管它是需要互斥访问，还是可以被多个进程同时访问。对于临界资源，这样做可以保证单进程对它进行互斥访问；对于其他共享资源，这样做可以保证多进程对它进行有条不紊的共享访问。</p>
<p>因此，对共享资源进行访问的代码片段都应该放在下面要讲到的临界区中。</p>
<p><u>所以下面的提到的临界资源就指的是共享资源，而不单只临界资源了。</u>那么该如何区分某个资源的共享方式（互斥共享方式或同时访问方式）呢？看信号量 S 的取值。</p>
<h3 id="2-2-建立临界区：硬件-软件临界资源共享解决方案">2.2 建立临界区：硬件/软件临界资源共享解决方案</h3>
<p>为了解决问题，我们可以把<strong>访问临界资源的循环进程</strong>的<strong>执行方案</strong>给抽象化了，用伪代码表示为：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> (TURE) &#123;</span><br><span class="line">	进入区</span><br><span class="line">	临界区</span><br><span class="line">	退出区</span><br><span class="line">	剩余区</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>临界区是指每个进程中访问临界资源的那段代码。顺便提一下，剩余区中所包含的代码片段并不是连续的，它可以穿插在不同区域当中，但通常不放在进入区中，因为这样做会造成资源浪费，我们应该花费最精炼的代码（时间复杂度最小）去判断一个进程是否可以进入到临界区中。</p>
<h2 id="3-浅谈进程同步机制">3. 浅谈进程同步机制</h2>
<p>进程同步机制也可以换一个说法，就是协调进程运行的机制。</p>
<p>这里仅给出几种进程同步机制的问题解决思路，如果有时间的话，再详细的讨论下。</p>
<h3 id="3-1-面临的主要问题">3.1 面临的主要问题</h3>
<p>从上面的进程关系中可以得知，目前进程同步所面临的最大问题，就是如何协调具有「直接相互制约关系的进程们」对「软/硬件临界资源」的<strong>互斥访问</strong>顺序。</p>
<p>又从<strong>建立临界区</strong>这一解决方案中得知，这个问题现在演变成了解决诸进程如何互斥地进入临界区的问题。</p>
<h3 id="3-2-硬件同步机制">3.2 硬件同步机制</h3>
<p>引入一个标志，把它当成一个锁，“锁开”进入，“锁关”等待，并且为防止多个进程同时测试到锁打开的情况，测试和关锁操作必须是连续的，不允许分开进行。</p>
<p>此时，问题就变成了如何把测试和关锁两个操作变成一个连续的、完整的操作。</p>
<h3 id="3-3-信号量机制">3.3 信号量机制</h3>
<p>针对多个并发进程仅共享一个临界资源，可采用整型信号量、记录型信号量等。</p>
<p>针对多个并发进程序共享两个或更多的共享资源，可采用 AND 型信号量、信号量集（改进版 AND 型信号量集）等。</p>
<p>这些机制之间存在很大的联系，因为他们共同的特点是都在各自的 PV 操作中引入了信号量这一变量。</p>
<h2 id="后记">后记</h2>
<p>关于为什么不把进程同步叫做进程协调，我只是觉得进程同步比进程协调听起来更抽象一些。在这里，把它当成协调更容易理解。但要想让一组进程有条不紊地运行，光解决上面描述的互斥问题和同步问题是远远不行的，例如还有进程该如何调度的问题（即计算机系统资源该如何分配或释放的问题）、进程同步过程中存在的死锁问题（进程调度所要解决的一个难题）……</p>
<p>因此，同步的意义不仅仅在于去解决一两种问题，而在于与其他进程管理功能结合起来，共同完成「进程管理」这一项艰巨的任务。</p>

      
    </div>
    <footer class="article-footer">
      <div class="article-footer-content">
        
        <a data-url="http://chenshu.xyz/posts/undefined/" data-id="ckguxc6td0002j0txeqrgbatk" class="article-share-link">分享到</a>
        
      </div>
    </footer>
  </div>
  </div>
  </div>
  
</article>



  
    <article id="post-浅析一阶逻辑、高阶逻辑和命题逻辑" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <h3 href="/posts/undefined/" class="article-date">
  <time datetime="2020-04-05T00:33:54.348Z" itemprop="datePublished">2020-04-05</time>
</h3>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E7%A6%BB%E6%95%A3%E6%95%B0%E5%AD%A6/">离散数学</a>
  </div>

  </div>
  <div class="article-inner">
  <div class="curve-down">
  <div class="fill-content">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/posts/undefined/">浅析逻辑代数、命题逻辑、一阶逻辑、高阶逻辑和数理逻辑</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="前言">前言</h2>
<p>  此文是在本人学习完离散数学中的数理逻辑部分后，对标题中各部分之间的联系存在很大的疑惑。特此进行总结，水平有限，如有错误，欢迎指正。</p>
        
          <p class="article-more-link">
            <a href="/posts/undefined/#more">Read More</a>
          </p>
        
      
    </div>
    <footer class="article-footer">
      <div class="article-footer-content">
        
        <a data-url="http://chenshu.xyz/posts/undefined/" data-id="ckguxc6t70000j0tx8d3kdnma" class="article-share-link">分享到</a>
        
      </div>
    </footer>
  </div>
  </div>
  </div>
  
</article>



  
  
</section>
      
      <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">近期文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/posts/undefined/">进程同步为什么不叫进程协调？</a>
          </li>
        
          <li>
            <a href="/posts/undefined/">浅析逻辑代数、命题逻辑、一阶逻辑、高阶逻辑和数理逻辑</a>
          </li>
        
      </ul>
    </div>
  </div>

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">分类</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%A6%BB%E6%95%A3%E6%95%B0%E5%AD%A6/">离散数学</a><span class="category-list-count">1</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/10/">十月 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">四月 2020</a><span class="archive-list-count">1</span></li></ul>
    </div>
  </div>

  
</aside>
      
    </div>
    <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2020 Xiaochen<br>
      Hosted by <a href="https://git.coding.net" target="_blank" rel="noopener" style="font-weight: bold">Coding Pages</a>
      .
      Powered by <a href="http://hexo.io/" target="_blank" style="font-weight: bold">Hexo</a>
      .
      Theme by <a href="https://github.com/sun11/hexo-theme-paperbox" style="font-weight: bold "target="_blank">Paperbox</a>
    </div>
  </div>
</footer>
  </div>
  <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="https://www.cnblogs.com/chenshu/" target="_blank" rel="noopener" class="mobile-nav-link">Cnblog</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
    <a href="/about" class="mobile-nav-link">About</a>
  

  
  
</nav>

  

<!-- totop start -->
<div id="totop">
	<a title="返回顶部"></a>
</div>
<!-- totop end -->





<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>

<script src="//cdnjs.cloudflare.com/ajax/libs/lrsjng.jquery-qrcode/0.12.0/jquery.qrcode.min.js"></script>


  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">

  
<script src="/fancybox/jquery.fancybox.pack.js"></script>




<script src="/js/script.js"></script>


</div>
</body>
</html>
